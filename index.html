<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIG 3 1RM Calculator</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0f172a">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <header>
            <h1>BIG 3 1RM Calculator</h1>
            <p>筋力アップのためのMAX重量計算 & メニュー管理</p>
            <div class="tabs">
                <button class="tab-btn active" data-tab="calc-tab">1RM 計算機</button>
                <button class="tab-btn" data-tab="menu-tab">メニュー登録</button>
            </div>
        </header>

        <main>
            <!-- 1RM Calculator Tab -->
            <div id="calc-tab" class="tab-content active">
                <div class="card input-section">
                    <div class="exercise-selector">
                        <input type="radio" id="benchpress" name="exercise" value="benchpress" checked>
                        <label for="benchpress" class="exercise-btn" data-color="#3b82f6">ベンチプレス</label>

                        <input type="radio" id="deadlift" name="exercise" value="deadlift">
                        <label for="deadlift" class="exercise-btn" data-color="#ef4444">デッドリフト</label>

                        <input type="radio" id="squat" name="exercise" value="squat">
                        <label for="squat" class="exercise-btn" data-color="#10b981">スクワット</label>
                    </div>
                    <div class="input-group">
                        <label for="weight">持ち上げた重量 (kg)</label>
                        <input type="number" id="weight" placeholder="例: 80" min="1" step="0.5">
                    </div>
                    <div class="input-group">
                        <label for="reps">回数 (レップス)</label>
                        <input type="number" id="reps" placeholder="例: 8" min="1" step="1">
                    </div>
                    <button id="calculate-btn">計算する</button>
                </div>

                <div class="card records-section" id="records-section" style="margin-top: 1.5rem; display: none;">
                    <h2
                        style="font-size: 1.1rem; margin-bottom: 1rem; color: #fdfdfd; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 0.5rem;">
                        保存データからの自己ベスト (<span id="record-exercise-name">ベンチプレス</span>)</h2>
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.2); border-radius: 8px; padding: 1rem;">
                        <div style="text-align: center; flex: 1; border-right: 1px solid rgba(255,255,255,0.1);">
                            <div style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 0.3rem;">最大挙上重量
                            </div>
                            <div style="font-size: 1.3rem; font-weight: 700; color: #e9d5ff;" id="record-max-weight">--
                                kg</div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.2rem;"
                                id="record-max-weight-date">--</div>
                        </div>
                        <div style="text-align: center; flex: 1;">
                            <div style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 0.3rem;">推定1RM
                                (Max)</div>
                            <div style="font-size: 1.3rem; font-weight: 700; color: #fbcfe8;" id="record-max-1rm">-- kg
                            </div>
                            <div style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.2rem;"
                                id="record-max-1rm-date">--</div>
                        </div>
                    </div>
                </div>

                <div class="results-section hidden" id="results">
                    <h2>推定 MAX重量 (1RM)</h2>
                    <div class="average-result">
                        <span class="label">平均推定値</span>
                        <span class="value" id="average-1rm">-- kg</span>
                    </div>

                    <div class="formulas-grid">
                        <div class="formula-card">
                            <span class="formula-name">Epley方式</span>
                            <span class="formula-value" id="epley-1rm">-- kg</span>
                        </div>
                        <div class="formula-card">
                            <span class="formula-name">Brzycki方式</span>
                            <span class="formula-value" id="brzycki-1rm">-- kg</span>
                        </div>
                        <div class="formula-card">
                            <span class="formula-name">O'Conner方式</span>
                            <span class="formula-value" id="oconner-1rm">-- kg</span>
                        </div>
                    </div>

                    <div class="training-guide">
                        <h3>目的別 トレーニング重量目安</h3>
                        <ul class="guide-list">
                            <li>
                                <span class="reps">3回 (約90% / 筋力UP)</span>
                                <span class="weight" id="target-3rm">-- kg</span>
                            </li>
                            <li>
                                <span class="reps">5回 (約87% / 筋力・筋肥大)</span>
                                <span class="weight" id="target-5rm">-- kg</span>
                            </li>
                            <li>
                                <span class="reps">8回 (約80% / 筋肥大)</span>
                                <span class="weight" id="target-8rm">-- kg</span>
                            </li>
                            <li>
                                <span class="reps">10回 (約75% / 筋肥大・持久力)</span>
                                <span class="weight" id="target-10rm">-- kg</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Workout Menu Tab -->
            <div id="menu-tab" class="tab-content hidden">
                <div class="card date-section" style="margin-bottom: 1.5rem;">
                    <div class="input-group" style="margin-bottom: 1rem;">
                        <label for="workout-date">記録する日付</label>
                        <input type="date" id="workout-date" style="cursor: pointer;">
                    </div>

                    <div class="input-row"
                        style="padding-top: 1rem; border-top: 1px solid rgba(255,255,255,0.1); display: flex; gap: 0.5rem; align-items: flex-end;">
                        <div class="input-group" style="margin-bottom: 0; flex: 2;">
                            <label for="copy-date-select">過去の記録からコピー</label>
                            <select id="copy-date-select" style="cursor: pointer;">
                                <option value="" disabled selected>日付を選択</option>
                                <!-- JSで動的に追加される -->
                            </select>
                        </div>
                        <button id="copy-menu-btn" class="btn-secondary"
                            style="flex: 1; margin: 0; padding: 1rem;">コピー実行</button>
                    </div>
                </div>

                <div class="card input-section">
                    <div class="input-group">
                        <label for="menu-exercise">種目名</label>
                        <select id="menu-exercise" class="exercise-select">
                            <option value="" disabled selected>種目を選択してください</option>

                            <optgroup label="胸（Chest）">
                                <option value="ベンチプレス">ベンチプレス</option>
                                <option value="インクライン・ベンチプレス">インクライン・ベンチプレス</option>
                                <option value="デクライン・ベンチプレス">デクライン・ベンチプレス</option>
                                <option value="ダンベル・ベンチプレス">ダンベル・ベンチプレス</option>
                                <option value="インクライン・ダンベルプレス">インクライン・ダンベルプレス</option>
                                <option value="デクライン・ダンベルプレス">デクライン・ダンベルプレス</option>
                                <option value="ダンベル・フライ">ダンベル・フライ</option>
                                <option value="インクライン・ダンベルフライ">インクライン・ダンベルフライ</option>
                                <option value="ダンベル・プルオーバー">ダンベル・プルオーバー</option>
                                <option value="チェストプレス（マシン）">チェストプレス（マシン）</option>
                                <option value="ペックデック・フライ">ペックデック・フライ</option>
                                <option value="ケーブル・クロスオーバー">ケーブル・クロスオーバー</option>
                                <option value="スミスマシン・ベンチプレス">スミスマシン・ベンチプレス</option>
                                <option value="ディップス">ディップス</option>
                                <option value="マシン・ケーブル（胸）">マシン・ケーブル（胸）</option>
                            </optgroup>

                            <optgroup label="背中（Back）">
                                <option value="デッドリフト">デッドリフト</option>
                                <option value="ベントオーバー・ロウ（バーベルロウ）">ベントオーバー・ロウ（バーベルロウ）</option>
                                <option value="ペンドレイ・ロウ">ペンドレイ・ロウ</option>
                                <option value="Tバー・ロウ">Tバー・ロウ</option>
                                <option value="ワンアーム・ダンベルロウ">ワンアーム・ダンベルロウ</option>
                                <option value="ラットプルダウン">ラットプルダウン</option>
                                <option value="シーテッド・ケーブルロウ">シーテッド・ケーブルロウ</option>
                                <option value="ストレートアーム・プルダウン">ストレートアーム・プルダウン</option>
                                <option value="マシン・ロウ">マシン・ロウ</option>
                                <option value="チンニング（懸垂）">チンニング（懸垂）</option>
                            </optgroup>

                            <optgroup label="足（Legs）">
                                <option value="スクワット（バックスクワット）">スクワット（バックスクワット）</option>
                                <option value="フロント・スクワット">フロント・スクワット</option>
                                <option value="ルーマニアン・デッドリフト（RDL）">ルーマニアン・デッドリフト（RDL）</option>
                                <option value="スティフレッグド・デッドリフト">スティフレッグド・デッドリフト</option>
                                <option value="ブルガリアン・スクワット">ブルガリアン・スクワット</option>
                                <option value="レッグプレス">レッグプレス</option>
                                <option value="ハックスクワット（マシン）">ハックスクワット（マシン）</option>
                                <option value="レッグ・エクステンション">レッグ・エクステンション</option>
                                <option value="レッグ・カール（シーテッド／ライイング）">レッグ・カール（シーテッド／ライイング）</option>
                                <option value="ヒップ・スラスト">ヒップ・スラスト</option>
                                <option value="ケーブル・プルスルー">ケーブル・プルスルー</option>
                                <option value="カーフレイズ（スタンディング／シーテッド）">カーフレイズ（スタンディング／シーテッド）</option>
                            </optgroup>

                            <optgroup label="肩（Shoulders）">
                                <option value="オーバーヘッドプレス（ミリタリープレス）">オーバーヘッドプレス（ミリタリープレス）</option>
                                <option value="アップライト・ロウ">アップライト・ロウ</option>
                                <option value="バーベル・シュラッグ">バーベル・シュラッグ</option>
                                <option value="ダンベル・ショルダープレス">ダンベル・ショルダープレス</option>
                                <option value="アーノルド・プレス">アーノルド・プレス</option>
                                <option value="サイドレイズ">サイドレイズ</option>
                                <option value="フロントレイズ">フロントレイズ</option>
                                <option value="リアレイズ（リアデルト・フライ）">リアレイズ（リアデルト・フライ）</option>
                                <option value="ダンベル・シュラッグ">ダンベル・シュラッグ</option>
                                <option value="マシン・ショルダープレス">マシン・ショルダープレス</option>
                                <option value="ケーブル・サイドレイズ">ケーブル・サイドレイズ</option>
                                <option value="ケーブル・フロントレイズ">ケーブル・フロントレイズ</option>
                                <option value="フェイスプル">フェイスプル</option>
                                <option value="リアデルト・マシン（リバース・ペックデック）">リアデルト・マシン（リバース・ペックデック）</option>
                                <option value="スミスマシン・ショルダープレス">スミスマシン・ショルダープレス</option>
                                <option value="マシン・ケーブル（肩）">マシン・ケーブル（肩）</option>
                            </optgroup>

                            <optgroup label="上腕二頭筋（Biceps）">
                                <option value="バーベル・カール">バーベル・カール</option>
                                <option value="EZバー・カール">EZバー・カール</option>
                                <option value="プリーチャー・カール">プリーチャー・カール</option>
                                <option value="ダンベル・カール">ダンベル・カール</option>
                                <option value="ハンマー・カール">ハンマー・カール</option>
                                <option value="インクライン・ダンベルカール">インクライン・ダンベルカール</option>
                                <option value="コンセントレーション・カール">コンセントレーション・カール</option>
                                <option value="スパイダー・カール">スパイダー・カール</option>
                                <option value="ケーブル・カール">ケーブル・カール</option>
                                <option value="マシン・プリーチャーカール">マシン・プリーチャーカール</option>
                                <option value="マシン・ケーブル（上腕二頭筋）">マシン・ケーブル（上腕二頭筋）</option>
                            </optgroup>

                            <optgroup label="上腕三頭筋（Triceps）">
                                <option value="ナローグリップ・ベンチプレス">ナローグリップ・ベンチプレス</option>
                                <option value="スカルクラッシャー（ライイング・トライセプス・エクステンション）">スカルクラッシャー（ライイング・トライセプス・エクステンション）
                                </option>
                                <option value="フレンチ・プレス">フレンチ・プレス</option>
                                <option value="JMプレス">JMプレス</option>
                                <option value="ダンベル・トライセプス・エクステンション">ダンベル・トライセプス・エクステンション</option>
                                <option value="ダンベル・キックバック">ダンベル・キックバック</option>
                                <option value="トライセプス・プッシュダウン（ストレートバー／ロープ／Vバー）">トライセプス・プッシュダウン（ストレートバー／ロープ／Vバー）</option>
                                <option value="オーバーヘッド・ケーブル・エクステンション">オーバーヘッド・ケーブル・エクステンション</option>
                                <option value="マシン・ケーブル（上腕三頭筋）">マシン・ケーブル（上腕三頭筋）</option>
                            </optgroup>

                            <optgroup label="その他">
                                <option value="その他（自由入力）">その他...</option>
                            </optgroup>
                        </select>
                        <input type="text" id="custom-exercise" class="hidden" placeholder="種目名を入力してください"
                            style="margin-top: 0.5rem;">
                    </div>
                    <div class="registration-sets-wrapper" style="margin-top: 1.5rem; margin-bottom: 1rem;">
                        <div class="set-header-row">
                            <span>セット</span>
                            <span>kg</span>
                            <span>回</span>
                            <span>完了</span>
                            <span></span>
                        </div>
                        <div id="registration-sets" class="sets-container">
                            <!-- JSで動的にセット行が追加される -->
                        </div>
                        <button id="add-reg-set-btn" class="add-set-btn"
                            style="width: 100%; text-align: center; display: block;">+ セットを追加</button>
                    </div>

                    <button id="add-menu-btn" style="margin-top: 1rem;">今日のメニューに登録</button>
                </div>

                <div class="card menu-list-section">
                    <h2 id="menu-list-title">今日のメニュー</h2>
                    <ul id="workout-menu-list" class="menu-list">
                        <!-- 追加されたメニューがここに表示される -->
                        <li class="empty-message">メニューが登録されていません</li>
                    </ul>
                    <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <button id="save-menu-btn"
                            style="flex: 2; border: none; font-weight: bold;">この日の記録を最終保存</button>
                        <button id="clear-menu-btn" class="btn-secondary" style="flex: 1;">全クリア</button>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="script.js"></script>
</body>

</html>